!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){r(1),e.exports=r(11)},function(e,t,r){"use strict";r(2),r(3),r(4),r(5),r(7)},function(e,t,r){"use strict";var n=wp.i18n.__,o=wp.blocks,a=o.registerBlockType,i=o.createBlock,c=wp.editor.RichText;a("iis/preamble",{title:n("Preamble"),category:"iis",icon:"editor-paragraph",keywords:[n("preamble"),n("text"),n("paragraph")],attributes:{content:{type:"string",default:""}},edit:function(e){var t=e.attributes,r=e.setAttributes;return React.createElement("div",{style:{fontWeight:"bold",fontSize:"bigger"}},React.createElement(c,{tagName:"p",value:t.content,placeholder:n("Preamble"),onChange:function(e){return r({content:e})}}))},save:function(e){var t=e.attributes;return React.createElement("p",{className:"preamble",dangerouslySetInnerHTML:{__html:t.content}})},transforms:{from:[{type:"block",blocks:["core/paragraph"],transform:function(e){return i("iis/preamble",{content:e.content})}}]}})},function(e,t,r){"use strict";var n=wp.i18n.__,o=wp.blocks.registerBlockType,a=wp.editor,i=a.InspectorControls,c=a.InnerBlocks,l=wp.components,s=l.PanelBody,u=l.ToggleControl;o("iis/info",{title:n("Info box"),category:"iis",icon:"megaphone",keywords:[n("info"),n("facts"),n("message")],attributes:{big:{type:"boolean",default:!1}},edit:function(e){var t=e.attributes,r=e.setAttributes,n=["core/paragraph"],o=[],a=null,l="iis-info-block";return t.big?(o=[["core/paragraph"]],a="all",l+=" "+l+"--big"):(n.push("core/heading"),n.push("core/list")),React.createElement("div",null,React.createElement(i,null,React.createElement(s,null,React.createElement(u,{label:"Big",checked:t.big,onChange:function(e){return r({big:e})}}))),React.createElement("div",{className:l},React.createElement(c,{allowedBlocks:n,template:o,templateLock:a})))},save:function(e){var t=e.attributes;return React.createElement("div",{className:"iis-m-info-box "+(t.big?"iis-m-info-box--big":"")},React.createElement(c.Content,null))}})},function(e,t,r){"use strict";var n=wp.i18n.__,o=wp.blocks.registerBlockType,a=wp.editor,i=a.RichText,c=a.MediaUpload,l=a.MediaUploadCheck,s=wp.element.Fragment,u=wp.components,p=u.Button,f=u.TextControl;o("iis/download",{title:n("Download"),category:"iis",icon:"download",keywords:[n("download"),n("pdf"),n("attach")],attributes:{title:{type:"string",default:null},content:{type:"string",default:null},file:{type:"string",default:""}},edit:function(e){var t=e.attributes,r=e.setAttributes;return React.createElement("div",null,React.createElement(i,{identifier:"title",wrapperClassName:"wp-block-heading",tagName:"h3",value:t.title,onChange:function(e){return r({title:e})},placeholder:n("File title")}),React.createElement(i,{identifier:"description",wrapperClassName:"wp-block-paragraph",tagName:"p",value:t.content,onChange:function(e){return r({content:e})},placeholder:n("File description")}),React.createElement("div",{style:{marginTop:"16px"}},!t.file&&React.createElement(s,null,React.createElement(l,null,React.createElement(c,{onSelect:function(e){var t=e.url;return r({file:t})},value:t.file,render:function(e){var t=e.open;return React.createElement(p,{className:"components-button editor-post-featured-image__toggle",onClick:t},"Upload File")}})),React.createElement("p",null,React.createElement("em",null,"or"))),React.createElement(f,{label:n("File URL"),value:t.file,onChange:function(e){return r({file:e})}}),t.file&&React.createElement("div",null,React.createElement(p,{className:"components-button is-button is-default",onClick:function(){return r({file:""})}},"Remove file/file URL"))))},save:function(){return null}})},function(e,t,r){"use strict";var n,o=r(6),a=(n=o)&&n.__esModule?n:{default:n};var i=wp.i18n.__,c=wp.blocks.registerBlockType,l=wp.editor.InspectorControls,s=wp.components.PanelBody;c("iis/postarchive",{title:i("Post Archive","iis"),category:"iis",icon:"media-archive",keywords:[i("archive","iis")],attributes:{postType:{type:"string",default:!1}},edit:function(e){var t=e.attributes,r=e.setAttributes;return React.createElement("div",null,React.createElement("div",null,React.createElement("strong",null,"« Post Archive »")),React.createElement(l,null,React.createElement(s,null,React.createElement(a.default,{label:i("Select post type","iis"),placeholder:{value:null,label:i("Post type","iis")},api:"/wp-json/wp/v2/types",value_key:function(e){return e.slug},label_key:function(e){return e.name},value:t.postType,set:function(e){return r({postType:e})}}))))},save:function(){return null}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=wp.i18n.__,c=wp.components,l=c.SelectControl,s=c.Notice,u=c.TextControl,p=wp.element,f=p.Component,h=p.Fragment,m=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={loading:!0,data:[],value:o.props.value,error:!1,search:""},o.searchThrottle=null,o.fetch=function(){o.setState({loading:!0,error:!1});var e=o.props.api;e.indexOf("?")>-1?e+="&search="+o.state.search:e+="?search="+o.state.search,fetch(e).then(function(e){return e.json()}).then(function(e){if("data"in e&&"status"in e.data&&e.data.status>299)throw new Error(e.message);return e}).then(function(e){return"object"===(void 0===e?"undefined":n(e))?Object.values(e):e}).then(function(e){return e.map(function(e){return{value:o.props.value_key(e),label:o.props.label_key(e)}})}).then(function(e){return o.setState({items:e,loading:!1})}).catch(function(e){return o.setState({error:e,loading:!1})})},o.search=function(e){o.setState({search:e},function(){clearTimeout(o.searchThrottle),o.searchThrottle=setTimeout(function(){o.fetch()},250)})},a(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),o(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this;if(this.state.loading&&!this.props.search)return React.createElement("span",{className:"components-spinner",style:{float:"none"}});if(this.state.error){var t="object"===n(this.state.error)?this.state.error.message:this.state.error;return React.createElement(s,{status:"error",actions:[{label:i("Try again"),onClick:this.fetch}]},React.createElement("p",null,t))}return React.createElement(h,null,this.props.search&&React.createElement(u,{label:this.props.label,value:this.state.search,placeholder:i("Search"),onChange:this.search,disabled:this.props.disabled}),this.state.loading&&React.createElement("p",null,React.createElement("span",{className:"components-spinner",style:{float:"none"}})),!this.state.loading&&this.state.items.length>0&&React.createElement(l,{label:this.props.search?null:this.props.label,help:this.props.help,options:[this.props.placeholder].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this.state.items)),value:this.state.value,onChange:function(t){e.props.set(t),e.setState({value:t})},disabled:this.props.disabled}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.value?{value:e.value}:null}}]),t}();m.defaultProps={set:function(){}},t.default=m},function(e,t,r){"use strict";var n,o=r(8),a=(n=o)&&n.__esModule?n:{default:n},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=wp.i18n.__,s=wp.blocks.registerBlockType,u=wp.element.Component,p=wp.editor,f=p.RichText,h=p.InspectorControls,m=wp.components,d=m.PanelBody,y=m.SelectControl,v=function(e){function t(){var e,r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={loading:!0,lists:[],error:!1},n.fetchLists=(o=a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:"/iis-blocks/v1/mailchimp-lists",method:"GET"});case 3:e.t0=function(e){return{label:e.name,value:e.id}},t=e.sent.map(e.t0),n.setState({lists:t,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t1=e.catch(0),n.setState({loading:!1,error:e.t1.message});case 11:case"end":return e.stop()}},e,i,[[0,8]])}),function(){var e=o.apply(this,arguments);return new Promise(function(t,r){return function n(o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});t(c)}("next")})}),c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),i(t,[{key:"componentDidMount",value:function(){this.fetchLists()}},{key:"render",value:function(){var e=this;return this.state.loading?React.createElement("span",{className:"components-spinner",style:{float:"none"}}):this.state.error?React.createElement("span",{style:{color:"#d94f4f"}},this.state.error):React.createElement(y,{value:this.props.list_id,options:this.state.lists,onChange:function(t){return e.props.setListId(t)}})}}]),t}();v.defaultProps={setListId:function(){}},s("iis/newsletter",{title:l("Newsletter"),category:"iis",icon:"email",keywords:[l("newsletter"),l("mailchimp"),l("email")],attributes:{title:{type:"string",default:""},content:{type:"string",default:""},termsText:{type:"string",default:""},buttonText:{type:"string",default:""},listId:{type:"string",default:""}},edit:function(e){var t=e.attributes,r=e.setAttributes;return React.createElement("div",null,React.createElement(h,null,React.createElement(d,{title:"Mailchimp list"},React.createElement(v,{setListId:function(e){return r({listId:e})}}))),React.createElement(f,{identifier:"content",wrapperClassName:"wp-block-heading",tagName:"h3",value:t.title,onChange:function(e){return r({title:e})},placeholder:l("Title")}),React.createElement(f,{identifier:"content",wrapperClassName:"wp-block-paragraph",tagName:"p",value:t.content,onChange:function(e){return r({content:e})},placeholder:l("Description")}),React.createElement("p",null,"« Newsletter form »"),React.createElement(f,{identifier:"content",wrapperClassName:"wp-block-paragraph",tagName:"p",style:{fontSize:"small"},value:t.termsText,onChange:function(e){return r({termsText:e})},placeholder:l("Terms text")}),React.createElement("div",{className:"components-button is-button is-default is-primary"},React.createElement(f,{identifier:"content",tagName:"span",formattingControls:["bold","italic","strikethrough"],value:t.buttonText,onChange:function(e){return r({buttonText:e})},placeholder:l("Button text")})))},save:function(){return null}})},function(e,t,r){e.exports=r(9)},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(10),o)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",s="object"==typeof e,u=t.regeneratorRuntime;if(u)s&&(e.exports=u);else{(u=t.regeneratorRuntime=s?e.exports:{}).wrap=w;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",d={},y={};y[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==n&&o.call(g,i)&&(y=g);var b=_.prototype=R.prototype=Object.create(y);x.prototype=b.constructor=_,_.constructor=x,_[l]=x.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},u.awrap=function(e){return{__await:e}},k(T.prototype),T.prototype[c]=function(){return this},u.AsyncIterator=T,u.async=function(e,t,r,n){var o=new T(w(e,t,r,n));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(b),b[l]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return c.type="throw",c.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function w(e,t,r,n){var o=t&&t.prototype instanceof R?t:R,a=Object.create(o.prototype),i=new N(n||[]);return a._invoke=function(e,t,r){var n=p;return function(o,a){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=E(e,t,r);if("normal"===l.type){if(n=r.done?m:f,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=m,r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function E(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function R(){}function x(){}function _(){}function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(r,n){function a(){return new Promise(function(t,a){!function t(r,n,a,i){var c=E(e[r],e,n);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==typeof s&&o.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(s).then(function(e){l.value=e,a(l)},i)}i(c.arg)}(r,n,t,a)})}return t=t?t.then(a,a):a()}}function L(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=E(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t){}]);